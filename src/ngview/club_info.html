<div class="club-info panel" ng-controller="ClubInfoCtrl" nb-panel-hfill>

    <div class="panel-heading navbar navbar-default">
        <div>
            <button ng-click="back()" class="btn btn-link btn-back pull-left" title="Back" rel="tooltip" nb-tooltip="{container: 'body'}">
                <i class="fa fa-angle-left"></i>
            </button>
            <div class="navbar-text pull-left">
                {{is_new && 'NEW CLUB' || 'CLUB INFO'}}
            </div>
            <button ng-hide="club.saving" ng-click="save_club()" ng-if="is_new" class="btn btn-success pull-right">
                CREATE
            </button>
            <div ng-show="club.saving" class="pull-right" style="margin: 15px">
                <i class="fa fa-circle-o-notch fa-spin fa-lg"></i>
            </div>
        </div>
    </div>

    <div class="panel-body">
        <div ng-show="club.saving" class="modal-backdrop in"></div>

        <div class="line">
            <div ng-if="club.admin" style="padding: 10px">
                <button class="btn btn-link pull-left" style="padding: 0; margin-right: 20px" ng-click="choose_logo()" title="Choose image" rel="tooltip" nb-tooltip="{container: 'body', placement: 'bottom'}">
                    <img class="user-image-lg" ng-src="{{club.logo}}" />
                    <!-- <i class="fa fa-paw fa-2x text-muted"></i> -->
                </button>
                <div class="animate-switch-container" style="height: 50px" ng-switch="edit_title.on">
                    <div ng-switch-when="true" class="animate-switch">
                        <button class="btn btn-link pull-right" style="padding-right:0" ng-click="update_title()" ng-hide="is_new">
                            <i class="fa fa-check fa-2x"></i>
                        </button>
                        <div class="hflow">
                            <input type="text" class="form-control input-lg" style="height: 50px" ng-model="edit_title.value" placeholder="Enter club title (e.g. fight club)" nb-focus="true" />
                        </div>
                    </div>
                    <div ng-switch-when="false" class="animate-switch">
                        <a class="btn btn-link btn-block" ng-click="edit_title.on=true" title="Edit title" rel="tooltip" nb-tooltip="{container: 'body'}">
                            <i class="fa fa-pencil fa-2x pull-right"></i>
                            <div class="hflow club-title text-left text-ellipses text-color">
                                {{club.title}}
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <div ng-if="!club.admin" style="padding: 10px">
                <button class="btn btn-link pull-left" style="padding: 0; margin-right: 20px; cursor: default">
                    <img class="user-image-lg" ng-src="{{club.logo}}" />
                </button>
                <a class="btn btn-link btn-block" style="cursor: default">
                    <div class="club-title text-left text-ellipses text-color">
                        {{club.title}}
                    </div>
                </a>
            </div>
        </div>

        <div>
            <hr />
        </div>
        <div class="line headline">
            <b>MEMBERS</b>
        </div>

        <div ng-repeat="member in club.members track by $index">
            <div class="line line-p1">
                <img class="pull-left user-image" ng-src="{{nbUser.user_pic_url(member.user_info)}}" />
                <div class="pull-right" style="padding: 10px 0 0 10px">
                    <button ng-click="remove_member($index)" ng-if="club.admin && !member.admin" class="close" style="margin-top: -15px">&times;</button>
                    <span ng-show="member.admin" Xclass="text-success">ADMIN</span>
                </div>
                <div class="hflow" style="padding: 10px 0 0 10px">
                    <div class="text-ellipses">{{member.user_info.name}}</div>
                    <div>
                        <i ng-show="!member.user_info.id && member.user_info.fbid" class="fa fa-lg fa-facebook-square text-primary"></i>
                        <i ng-show="!member.user_info.id && member.user_info.googleid" class="fa fa-lg fa-google-plus-square text-danger"></i>
                    </div>
                </div>
            </div>
            <!-- <hr /> -->
        </div>

        <div ng-if="club.admin" class="line text-center">
            <a class="btn btn-success" ng-click="add_member()">
                <!-- <i class="fa fa-user fa-2x text-muted"></i> -->
                <!-- <i class="fa fa-plus text-success" style="margin-left: -7px; vertical-align: 14px"></i> -->
                ADD FRIEND
            </a>
        </div>
        <div ng-if="!is_new" class="line text-center">
            <a class="btn btn-warning" ng-click="leave_club()">
                LEAVE CLUB
            </a>
        </div>

    </div>

</div>
