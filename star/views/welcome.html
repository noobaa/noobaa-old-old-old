<!DOCTYPE html>
<html ng-app="noobaa_app" xmlns:fb="http://ogp.me/ns/fb#" lang="en">

<head>
	<?# def.include( 'common_head.html') ?>
		<style>
		#landing {
			margin-bottom: 50px;
			min-height: 100%;
		}
		#landing #poster {
			height: 450px;
			max-width: 1400px;
			margin-right: auto;
			margin-left: auto;
		}
		@media all and (max-height: 700px) {
			#landing #poster {
				height: 320px;
			}
		}
		#starting {
			padding: 20px 0 100px 0;
			border-top: hsl(0, 0%, 15%) 1px solid;
		}
		#starting .starting-section > div {
			padding-top: 30px;
		}
		img.gopro {
			width: 350px;
			position: absolute;
			left: -30px;
			bottom: -17px;
		}
		.poster {
			overflow: hidden;
			position: absolute;
		}
		.poster img {
			width: 100%;
			min-height: 100%;
			position: absolute;
			left: 0;
			right: 0;
			top: 0;
			top: auto;
		}
		.poster2 img {
			top: -100px;
		}
		.poster3 img {
			top: -250px;
		}
		.tipex {
			color: white;
			/*text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;*/
			/*text-shadow: -2px 0 #888, 0 2px #888, 2px 0 #888, 0 -2px #888;*/
			/*text-shadow: -2px 0 black, 0 2px black, 2px 0 black, 0 -2px black;*/
		}
		.W1 {
			font-size: 160px;
			line-height: 1em;
		}
		.W2 {
			font-size: 60px;
		}
		@media all and (min-width: 767px) and (max-width: 970px) {
			.poster2 img {
				top: -50px;
			}
			.poster3 img {
				top: -150px;
			}
		}
		@media all and (max-width: 768px) {
			img.gopro {
				width: 250px;
				bottom: -14px;
			}
			.poster2 img {
				top: 0;
			}
			.poster3 img {
				top: 0;
			}
		}
		@media all and (min-width: 480px) and (max-width: 768px) {
			.W1 {
				font-size: 100px;
			}
			.W2 {
				font-size: 50px;
			}
		}
		@media all and (max-width: 480px) {
			.W1 {
				font-size: 70px;
			}
			.W2 {
				font-size: 40px;
			}
		}
		</style>
</head>

<body ng-cloak ng-controller="WelcomeCtrl">

	<div>
		<?# def.facebook_init_body ?>
	</div>

	<div id="landing">
		<div id="poster" style="position: relative">

			<div class="poster1 poster filling text-center">
				<img src="/public/images/bg_skate.jpg" />
			</div>
			<div class="poster2 poster filling text-center" style="display: none">
				<img src="/public/images/bg_snow.jpg" />
			</div>
			<div class="poster3 poster filling text-center" style="display: none">
				<img src="/public/images/bg_wave.jpg" />
			</div>

			<img src="/public/images/gopro.png" class="gopro" />

			<div style="padding: 20px" class="text-center">
				<div class="btn-group">
					<a class="btn btn-primary" href="/">
						<img src="/public/images/noobaa_logo.png" Xwidth="50px" height="18px"></img>
						<small style="color: white">BETA</small>
					</a>
					<a href="#join" class="scroller btn btn-primary">
						Sign Up
					</a>
					<a class="btn btn-primary" href="/home/">
						Log In
					</a>
				</div>
			</div>
		</div>

		<div class="text-center" style="padding: 30px 0">
			<h1 class="fntpaint tipex">
				It's a once in a
				<div style="display: inline-block; cursor: pointer" ng-click="switch_state()">
					lifetime
					<span id="verb" style="padding: 0 7px">ride</span>
				</div>
			</h1>
			<p class="lead" style="padding-top: 20px">
				Keep your GoPro memories safe
			</p>
			<div style="margin-top: 40px">
				<a href="#join" class="scroller btn btn-primary btn-lg" style="margin: 0 20px 20px 0">
					<b>Get started</b>&nbsp;
					<i class="fntpaint">free</i>
				</a>
				<a href="#starting" class="scroller btn btn-default btn-transparent btn-lg" style="margin: 0 0 20px 0">
					Show me more
				</a>
			</div>
		</div>
	</div>


	<div id="starting">
		<div class="container">
			<div class="starting-section">
				<div class="text-left">
					<h2 class="fntpaint">Protect your memories</h2>
					<p>Backup everything, space is not an issue</p>
				</div>
				<div class="center-block" style="max-width: 1000px">
					<img src="/public/images/bg_fall.jpg" class="img-circle img-responsive" />
				</div>
			</div>
			<div class="starting-section">
				<div class="text-left">
					<h2 class="fntpaint">Share with your friends</h2>
					<p>Showoff to your Facebook / Google+ friends</p>
				</div>
				<div class="center-block" style="max-width: 1000px">
					<img src="/public/images/bg_bike.jpg" class="img-circle img-responsive" />
				</div>
			</div>
			<div class="starting-section">
				<div class="text-left">
					<h2 class="fntpaint">Shared with me</h2>
					<p>Your friends can give you awesome things</p>
				</div>
				<div class="center-block" style="max-width: 1000px">
					<img src="/public/images/bg_rock.jpg" class="img-circle img-responsive" />
				</div>
			</div>
			<div class="starting-section">
				<div class="text-left">
					<h2 class="fntpaint">Watch from any device</h2>
					<p>HD streaming, 4K ready</p>
				</div>
				<div class="center-block text-center" style="max-width: 1000px">
					<img src="/public/images/play_video.png" class="img-circle img-responsive" />
				</div>
			</div>
		</div>
	</div>



	<div id="join" class="nb_nav_link bgdark bgdark-image border-danger fnt" style="border-top: 5px solid; border-bottom: 5px solid">
		<div class="container text-center" style="margin-bottom: 40px">
			<div class="W2 fntpaint text-center tipex">JOIN US !</div>
			<br/>
			<div class="text-center" style="border: 1px solid #ccc; width: 340px; padding: 20px;
				border-radius: 7px/7px;	margin-left: auto; margin-right: auto;">
				<a ng-click="nbUser.login_facebook()" Xhref="/auth/facebook/login/">
					<img onmouseover="$('body').chardinJs('start')" onmouseout="$('body').chardinJs('stop')" data-intro="Easily share with your Facebook friends" data-position="left" src="/public/images/facebook_signup_button_big.png" style="width: 100%"></img>
				</a>
				<div style="height: 1px; background-color: #ccc; text-align: center; margin: 30px 0 30px 0">
					<span class="bgdark text-white" style="Xbackground-color: inherit; position: relative; top: -0.75em; padding: 10px">OR</span>
				</div>
				<a ng-click="nbUser.login_google()" Xhref="/auth/google/login/">
					<img onmouseover="$('body').chardinJs('start')" onmouseout="$('body').chardinJs('stop')" data-intro="Easily share with your Google Plus friends" data-position="right" src="/public/images/google_login_buttin_big.jpg" style="width: 100%"></img>

				</a>
			</div>
			<br/>
		</div>

		<div class="wfill text-center" style="padding: 20px; margin-bottom: 100px">
			<a href="https://www.facebook.com/NoobaaTeam" target="_blank" class="btn btn-link">
				<span class="fa-stack fa-2x">
					<i class="fa fa-circle fa-stack-2x"></i>
					<i class="fa fa-facebook fa-stack-1x" style="color: hsl(222, 37%, 47%)"></i>
				</span>
			</a>
			<a href="https://twitter.com/TheNooBaa" target="_blank" class="btn btn-link">
				<span class="fa-stack fa-2x">
					<i class="fa fa-circle fa-stack-2x"></i>
					<i class="fa fa-twitter fa-stack-1x" style="color: hsl(212, 100%, 63%)"></i>
				</span>
			</a>
			<a href="https://www.google.com/+Noobaa" target="_blank" class="btn btn-link">
				<span class="fa-stack fa-2x">
					<i class="fa fa-circle fa-stack-2x"></i>
					<i class="fa fa-google-plus fa-stack-1x" style="color: hsl(7, 64%, 52%)"></i>
				</span>
			</a>
			<a href="https://www.youtube.com/user/TheNoobaa" target="_blank" class="btn btn-link">
				<span class="fa-stack fa-2x">
					<i class="fa fa-circle fa-stack-2x"></i>
					<i class="fa fa-youtube fa-stack-1x" style="color: hsl(358, 79%, 45%)"></i>
				</span>
			</a>
		</div>
	</div>



	<div>
		<?# def.include( 'common_scripts.html') ?>
	</div>

	<script src="/public/js/nb_user.js" type="text/javascript"></script>

	<script type="text/javascript">
	(function() {
		'use strict';

		var noobaa_app = angular.module('noobaa_app');

		noobaa_app.controller('WelcomeCtrl', [
			'$scope', '$location', '$anchorScroll', '$timeout', '$interval', 'nbUser',

			function($scope, $location, $anchorScroll, $timeout, $interval, nbUser) {
				$scope.nbUser = nbUser;
				$scope.need_chrome_ref = !bowser.chrome;
				$anchorScroll();
				$scope.scroll = function(hash) {
					console.log('SCROLL', hash);
					$location.hash(hash);
					$anchorScroll();
				};

				var landing_element = $('#landing');
				var verb_element = landing_element.find('#verb');
				var states = [{
					verb: 'ride',
					verb_class: 'text-primary',
					btn: 'btn-primary',
					bg: landing_element.find('.poster1'),
				}, {
					verb: 'jump',
					verb_class: 'text-danger',
					btn: 'btn-danger',
					bg: landing_element.find('.poster2'),
				}, {
					verb: 'wave',
					verb_class: 'text-warning',
					btn: 'btn-warning',
					bg: landing_element.find('.poster3'),
				}];
				var state_num = 0;

				function switch_state() {
					if ($scope.switch_state_timeout) {
						$timeout.cancel($scope.switch_state_timeout);
					}
					$scope.switch_state_timeout = $timeout(switch_state, 15000);
					var curr = state_num;
					var next = (state_num + 1) % states.length;
					state_num = next;
					$.when(verb_element.fadeOut(400)).then(function() {
						verb_element.text(states[next].verb);
						// verb_element.switchClass(states[curr].verb_class, states[next].verb_class);
						return verb_element.fadeIn(1000);
					});
					states[curr].bg.fadeOut(2000);
					states[next].bg.fadeIn(2000);
					landing_element.find('.' + states[curr].btn).switchClass(states[curr].btn, states[next].btn, 2000);
				}
				$scope.switch_state_timeout = $timeout(switch_state, 15000);
				$scope.switch_state = switch_state;

				// do smooth scrolling to anchors with href
				var html_body = $('html, body');
				$('.scroller').click(function() {
					var href = $.attr(this, 'href');
					console.log('SCROLL', href);
					html_body.animate({
						scrollTop: $(href).offset().top
					}, 400, function() {
						// window.location.hash = href;
					});
					return false;
				});
			}
		]);
	})();
	</script>

</body>

</html>
