<div class="feeder">
	<div class="container">
		<div class="text-center" style="margin-bottom: 10px">
			<span class="text-muted fntpaint" style="font-size: 1.1em; line-height: 0.9em">
				Friend's stuff shared with me</span>
			<button class="btn btn-link" ng-click="refresh_feeds()" title="Click to refresh" rel="tooltip">
				<i class="fa fa-refresh {{refreshing_feeds && 'fa-spin' || ''}} fa-lg text-muted"></i>
			</button>
		</div>
		<div class="clearfix"></div>

		<div class="feeds_container">

			<div ng-show="feeds && !feeds.length" class="feed_item text-center" style="width: 100%; padding: 20px; background-color: transparent; color: white">
				<h2>Invite some friends to share media with you</h2>
				<a class="nb-menu-item content-switcher" style="padding: 5px; cursor: pointer" href="/home/friends/" ng-click="nbUser.invite_friends()">
					<span class="fa-stack" title="Invite Friends" rel="tooltip">
						<i class="fa fa-circle fa-stack-2x text-muted"></i>
						<i class="fa fa-users fa-inverse fa-stack-1x text-white"></i>
					</span>
				</a>
			</div>

			<div ng-repeat="feed in feeds | filter:{content_kind: filter_content_kind} | limitTo:feeds_limit track by $index" class="feed_item bggrey" ng-controller="FeedCtrl">
				<div style="position: relative; padding: 5px 50px; min-height: 50px">
					<div>
						<div class="text-wrap" style="color: black; padding: 10px 0">
							<i class="fa fa-{{feed.isdir && 'folder-open' || 'file-o'}} fa-fw fa-lg text-muted"></i>
							<span style="white-space: pre-wrap">{{feed.name}}</span>
						</div>
						<div ng-show="feed.isdir" class="text-wrap" style="color: black; padding: 10px 0">
							<span class="text-muted">[{{index+1}} / {{feed.entries.length}}]&nbsp;&nbsp;</span>
							<span style="white-space: pre-wrap">{{current_item().name}}</span>
						</div>
					</div>
					<div style="position: absolute; top: 0; left: 0; width: 50px">
						<img class="img-rounded" ng-src="{{nbUser.user_pic_url(feed.owner)}}" style="width: 40px; margin: 5px" ng-attr-title="{{feed.owner.name}}" rel="tooltip" />
						<div class="text-center" style="position: absolute; top: 50px; left: 0">
							<button ng-show="feed.isdir" class="btn btn-link" ng-disabled="index<=0" ng-click="prev_index()">
								<i class="fa fa-chevron-circle-left fa-lg"></i>
							</button>
						</div>
					</div>
					<div style="position: absolute; top: 50px; right: 0; width: 50px" class="text-center">
						<button ng-show="feed.isdir" class="btn btn-link" ng-disabled="index+1>=feed.entries.length" ng-click="next_index()">
							<i class="fa fa-chevron-circle-right fa-lg"></i>
						</button>
					</div>
				</div>
				<div style="border-top: 1px solid hsl(0,0%,90%)">
					<div style="position: relative; min-height: 70px" ng-mouseover="mouse_over=true" ng-mouseleave="mouse_over=false">
						<div nb-media="current_item()" media-events="media_events" show-content="false"></div>
						<button ng-show="mouse_over" class="btn btn-danger" style="position: absolute; top: 15px; right: 15px" ng-click="nbInode.keep_and_share_all(feed)" title="Keep & Share to all my friends" rel="tooltip">
							<i class="fa fa-bullhorn fa-lg"></i> 
						</button>
						<button ng-show="mouse_over" class="btn btn-default" style="position: absolute; top: 15px; left: 15px" ng-click="open_feed_inode(feed)" title="Show in folder" rel="tooltip">
							<i class="fa fa-eye fa-lg"></i>
						</button>
					</div>
				</div>
			</div>
		</div>

		<div class="text-center" style="padding-bottom: 20px" ng-show="feeds_limit < feeds.length">
			<button class="btn btn-danger" ng-click="more_feeds()">
				Load more...
			</button>
		</div>

	</div>
</div>
