<div class="chooser">
	<div class="panel panel-default" style="margin: 0; padding: 0">
		<div class="panel-heading clearfix" style="padding: 0 10px 2px 10px">
			<div class="clearfix" style="padding: 7px 0">
				<button class="btn btn-default Xbtn-sm" ng-click="go_up_level()" ng-disabled="!has_parent(current_inode)" title="Back to previous folder" rel="tooltip">
					<i class="fa fa-caret-left fa-fw fa-lg"></i>
				</button>
				<div class="btn-group">
					<a class="btn btn-link dropdown-toggle" data-toggle="dropdown" title="Back to folder..." rel="tooltip" nb-tooltip="{container: 'body'}" ng-disabled="!has_parent(current_inode)">
						<span style="font-size: 1.2em; line-height: 1.2em; vertical-align: middle">
							<span ng-show="has_parent(current_inode)">. . . &nbsp; /</span>
							<span ng-hide="has_parent(current_inode)" class="text-muted">
								<i class="fa fa-home fa-lg"></i>
							</span>
						</span>
					</a>
					<ul ng-if="has_parent(current_inode)" class="dropdown-menu" role="menu">
						<li ng-repeat="parent in path = (nbInode.parents_path(current_inode)).reverse()">
							<a ng-click="open_inode(parent)" style="padding-left: {{10+((path.length-1-$index) * 10)}}px">
								<i class="fa fa-folder-open fa-fw"></i>
								{{parent.name}}
							</a>
						</li>
					</ul>
				</div>
				<h2 style="display: inline; padding: 10px; font-size: 1.5em; line-height: 1.5em; vertical-align: middle" Xclass="text-primary">
					<span style="white-space: pre-wrap">{{current_inode.name}}</span>
				</h2>
				<span ng-if="current_inode.is_loading">
					<i class="fa fa-refresh fa-spin fa-fw"></i>
				</span>
			</div>
		</div>

		<div class="panel-body" style="padding: 0; border-top-width: 1px; border-top-style: solid">
			<div ng-repeat="inode in filter_entries = (current_inode.entries | filter:{isdir: context.dir_only || undefined} )" class="file_line notextselect" style="border-bottom-width: 1px; border-top-width: 1px">
				<div class="clearfix" ng-click="open_inode(inode, $index, $event)" style="cursor: pointer">
					<span class="text-wrap">
						<i ng-show="!!inode.isdir" class="fa fa-folder-open fa-fw fa-lg text-muted"></i>
						<i ng-show="!inode.isdir" class="fa fa-file-o fa-fw fa-lg text-muted"></i>
						<span class="btn btn-link" style="padding-left: 0; display: inline">
							<span style="white-space: pre-wrap">{{inode.name}}</span>
						</span>
					</span>
					<span class="text-muted pull-right">
						<span ng-show="!inode.isdir" style="margin-right: 20px">
							{{human_size(inode.size)}}
						</span>
						<span>
							{{moment(inode.ctime).fromNow()}}
						</span>
						<a class="btn btn-sm {{!inode.shr && 'btn-link' || inode.shr=='f' && 'btn-warning' || 'btn-warning btn-hover-only'}}" ng-if="nbInode.can_share_inode(inode)" ng-attr-title="{{!inode.shr && 'Not shared' || inode.shr=='f' && 'Shared with friends' || 'Shared with some friends'}}" rel="tooltip" style="margin-left: 5px">
							<i class="fa fa-{{!inode.shr && 'lock' || 'eye'}} fa-lg fa-fw {{!inode.shr && 'text-muted'}}"></i>
						</a>
					</span>
				</div>
			</div>
			<div ng-if="!filter_entries.length" style="padding-left: 20px; line-height: 60px; vertical-align: middle">
				<span ng-if="current_inode.is_loading">
					Loading ...
				</span>
				<span ng-if="!current_inode.is_loading">
					(Empty)
				</span>
			</div>
		</div>
	</div>
</div>
